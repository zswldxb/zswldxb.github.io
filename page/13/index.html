<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon_logo_2.svg"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon_logo_2.svg"><link rel="mask-icon" href="/images/logo_2.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.min.css"><script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"zswldxb.github.io",root:"/",scheme:"Mist",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:"valine",storage:!0,lazyload:!1,nav:null,activeClass:"valine"},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"><meta property="og:type" content="website"><meta property="og:title" content="智商为零的小白的博客"><meta property="og:url" content="https://zswldxb.github.io/page/13/index.html"><meta property="og:site_name" content="智商为零的小白的博客"><meta property="og:description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"><meta property="og:locale" content="zh_CN"><meta property="article:author" content="智商为零的小白"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://zswldxb.github.io/page/13/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!0,isPost:!1,lang:"zh-CN"}</script><title>智商为零的小白的博客</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">智商为零的小白的博客</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content index posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002003000.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002003000.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.RandomAutocontrast</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:30:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:30:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:19:30" itemprop="dateModified" datetime="2021-10-27T09:19:30+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002003000.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002003000.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.7k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsrandomautocontrast"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsrandomautocontrast"></a> Pytorch.torchvision.transforms.RandomAutocontrast</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomAutocontrast</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Autocontrast the pixels of the given image randomly with a given probability.</span></span><br><span class="line"><span class="string">    If the image is torch Tensor, it is expected to have [..., 1 or 3, H, W] shape, where ... means an arbitrary number of leading dimensions. If img is PIL Image, it is expected to be in mode &quot;L&quot; or &quot;RGB&quot;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        p (float): probability of the image being autocontrasted. Default value is 0.5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>RandomAutocontrast</code> 将以概率 <code>p</code> 生成自动对比的图像。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">a = torch.randint(<span class="number">0</span>, <span class="number">255</span>, size=(<span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>), dtype=torch.uint8)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 14, 197,  63, 183,  36],</span></span><br><span class="line"><span class="string">         [207,  17, 148,  49,  21],</span></span><br><span class="line"><span class="string">         [ 82, 246, 101, 146, 215],</span></span><br><span class="line"><span class="string">         [ 81,  59, 146,  37,  49],</span></span><br><span class="line"><span class="string">         [178, 242, 176,  69,  79]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[ 52, 124, 208, 200, 250],</span></span><br><span class="line"><span class="string">         [139, 138,  84, 101,  89],</span></span><br><span class="line"><span class="string">         [100, 219,  64, 203,  63],</span></span><br><span class="line"><span class="string">         [185,  79, 115,  37,  23],</span></span><br><span class="line"><span class="string">         [254, 137,  15,  75,  96]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[143,  92, 247, 160, 253],</span></span><br><span class="line"><span class="string">         [ 38, 234,  19,  46, 167],</span></span><br><span class="line"><span class="string">         [253,  67, 106, 140,  93],</span></span><br><span class="line"><span class="string">         [108, 192,  53,  29, 171],</span></span><br><span class="line"><span class="string">         [222, 139,  25, 148, 166]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.RandomAutocontrast(p=<span class="number">1</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[  0, 201,  53, 185,  24],</span></span><br><span class="line"><span class="string">         [212,   3, 147,  38,   7],</span></span><br><span class="line"><span class="string">         [ 74, 255,  95, 145, 220],</span></span><br><span class="line"><span class="string">         [ 73,  49, 145,  25,  38],</span></span><br><span class="line"><span class="string">         [180, 250, 178,  60,  71]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[ 39, 116, 205, 197, 250],</span></span><br><span class="line"><span class="string">         [132, 131,  73,  91,  78],</span></span><br><span class="line"><span class="string">         [ 90, 217,  52, 200,  51],</span></span><br><span class="line"><span class="string">         [181,  68, 106,  23,   8],</span></span><br><span class="line"><span class="string">         [254, 130,   0,  64,  86]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[135,  79, 248, 153, 255],</span></span><br><span class="line"><span class="string">         [ 20, 234,   0,  29, 161],</span></span><br><span class="line"><span class="string">         [255,  52,  94, 131,  80],</span></span><br><span class="line"><span class="string">         [ 96, 188,  37,  10, 165],</span></span><br><span class="line"><span class="string">         [221, 130,   6, 140, 160]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002900.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002900.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.RandomAdjustSharpness</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:29:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:29:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:18:56" itemprop="dateModified" datetime="2021-10-27T09:18:56+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002900.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002900.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>3.5k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>3 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsrandomadjustsharpness"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsrandomadjustsharpness"></a> Pytorch.torchvision.transforms.RandomAdjustSharpness</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomAdjustSharpness</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Adjust the sharpness of the image randomly with a given probability. If the image is torch Tensor, it is expected to have [..., 1 or 3, H, W] shape, where ... means an arbitrary number of leading dimensions.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        sharpness_factor (float):  How much to adjust the sharpness. Can be any non negative number. 0 gives a blurred image, 1 gives the original image while 2 increases the sharpness by a factor of 2.</span></span><br><span class="line"><span class="string">        p (float): probability of the image being color inverted. Default value is 0.5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>RandomAdjustSharpness</code> 将以概率 <code>p</code> 调整图像的清晰度。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">a = torch.randint(<span class="number">0</span>, <span class="number">255</span>, size=(<span class="number">3</span>, <span class="number">10</span>, <span class="number">10</span>), dtype=torch.uint8)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[165, 157,  80, 220, 111,  19,  98, 150,   8, 154],</span></span><br><span class="line"><span class="string">         [103, 181,   7,  32,  64, 239,  69,  96, 228, 187],</span></span><br><span class="line"><span class="string">         [125, 189,  25, 224, 101,  61, 104, 157, 144, 193],</span></span><br><span class="line"><span class="string">         [ 33,  18, 174,  44, 174, 189, 154,  28,  57,  53],</span></span><br><span class="line"><span class="string">         [110, 229,  54, 194, 130,  67,  93,  80, 130, 175],</span></span><br><span class="line"><span class="string">         [105, 116, 134,  30, 121,   0,   7, 200, 228, 220],</span></span><br><span class="line"><span class="string">         [ 85, 145, 163, 197, 212,   3,  88,  54,  30,  39],</span></span><br><span class="line"><span class="string">         [ 86, 101, 215, 128, 136,  83, 229, 149,  86, 154],</span></span><br><span class="line"><span class="string">         [  8,  76,  48,  88, 220, 219,  56, 208,  22,  24],</span></span><br><span class="line"><span class="string">         [251, 124, 151, 189, 167,  56, 157, 100,  13, 231]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[ 40,  21,  77,  34,  80,  73, 170,  31, 181, 116],</span></span><br><span class="line"><span class="string">         [ 85,  31, 253, 230, 189,  88,  22, 188, 200,  39],</span></span><br><span class="line"><span class="string">         [228, 174, 118, 158, 156, 178,  32, 108, 133,  18],</span></span><br><span class="line"><span class="string">         [ 22, 221, 154, 134, 125, 240, 223, 123, 233, 149],</span></span><br><span class="line"><span class="string">         [130, 134, 182,  25, 205, 227,  62, 129,  76, 194],</span></span><br><span class="line"><span class="string">         [215, 185, 165, 172,  97, 210, 175,  13,  79,  27],</span></span><br><span class="line"><span class="string">         [ 56, 102,  82,  63, 144, 187, 143,  13, 146, 118],</span></span><br><span class="line"><span class="string">         [185, 214,  39,  47,  60, 150,  68,  24, 229, 122],</span></span><br><span class="line"><span class="string">         [187, 101, 184, 199, 181, 211, 157, 186,  41,  67],</span></span><br><span class="line"><span class="string">         [107, 113,  29, 183,   3,  30, 181, 112, 146, 104]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[ 43, 222, 248, 243,  84,  66, 168, 173, 176,  55],</span></span><br><span class="line"><span class="string">         [240, 105, 237, 198,  42, 207,  59,  11, 217,  36],</span></span><br><span class="line"><span class="string">         [ 29, 180, 236, 221, 123,   7, 103, 215, 192, 105],</span></span><br><span class="line"><span class="string">         [159, 246, 180, 190,   8,  69, 220,  89, 190, 233],</span></span><br><span class="line"><span class="string">         [100, 108,   1,  45, 189, 114, 102,   1, 104,  89],</span></span><br><span class="line"><span class="string">         [153, 103, 130, 163,   3, 236,  85, 110,  94, 237],</span></span><br><span class="line"><span class="string">         [108, 190,  94, 110, 174,  98,  71,  64, 160,   8],</span></span><br><span class="line"><span class="string">         [221,  50,  48, 245,  66,   0,  44, 168,  29, 205],</span></span><br><span class="line"><span class="string">         [144,  72, 221, 213, 191,  46, 234,   7, 218, 162],</span></span><br><span class="line"><span class="string">         [ 16,  76,  85, 180,  48,  31,  81, 237,  17, 132]]],</span></span><br><span class="line"><span class="string">       dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.RandomAdjustSharpness(sharpness_factor=<span class="number">2</span>, p=<span class="number">1</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[165, 157,  80, 220, 111,  19,  98, 150,   8, 154],</span></span><br><span class="line"><span class="string">         [103, 227,   0,   0,  26, 255,  40,  81, 255, 187],</span></span><br><span class="line"><span class="string">         [125, 254,   0, 255,  84,  14,  92, 186, 156, 193],</span></span><br><span class="line"><span class="string">         [ 33,   0, 206,   0, 203, 237, 189,   0,  18,  53],</span></span><br><span class="line"><span class="string">         [110, 255,  15, 247, 147,  41,  94,  60, 130, 175],</span></span><br><span class="line"><span class="string">         [105, 109, 130,   0, 131,   0,   0, 255, 255, 220],</span></span><br><span class="line"><span class="string">         [ 85, 157, 181, 231, 255,   0,  86,   9,   0,  39],</span></span><br><span class="line"><span class="string">         [ 86, 100, 255, 108, 131,  45, 255, 181,  87, 154],</span></span><br><span class="line"><span class="string">         [  8,  47,   0,  46, 255, 255,   0, 255,   0,  24],</span></span><br><span class="line"><span class="string">         [251, 124, 151, 189, 167,  56, 157, 100,  13, 231]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[ 40,  21,  77,  34,  80,  73, 170,  31, 181, 116],</span></span><br><span class="line"><span class="string">         [ 85,   0, 255, 255, 229,  73,   0, 236, 255,  39],</span></span><br><span class="line"><span class="string">         [228, 196,  86, 151, 149, 205,   0,  86, 133,  18],</span></span><br><span class="line"><span class="string">         [ 22, 255, 161, 130, 100, 255, 255, 122, 255, 149],</span></span><br><span class="line"><span class="string">         [130, 118, 202,   0, 237, 255,   0, 133,  50, 194],</span></span><br><span class="line"><span class="string">         [215, 217, 194, 204,  62, 244, 207,   0,  73,  27],</span></span><br><span class="line"><span class="string">         [ 56,  77,  57,  40, 157, 222, 166,   0, 188, 118],</span></span><br><span class="line"><span class="string">         [185, 255,   0,   3,   6, 154,  27,   0, 255, 122],</span></span><br><span class="line"><span class="string">         [187,  82, 226, 255, 224, 255, 180, 227,   0,  67],</span></span><br><span class="line"><span class="string">         [107, 113,  29, 183,   3,  30, 181, 112, 146, 104]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[ 43, 222, 248, 243,  84,  66, 168, 173, 176,  55],</span></span><br><span class="line"><span class="string">         [240,  59, 255, 210,   0, 255,  22,   0, 255,  36],</span></span><br><span class="line"><span class="string">         [ 29, 181, 255, 255, 126,   0,  99, 255, 226, 105],</span></span><br><span class="line"><span class="string">         [159, 255, 196, 230,   0,  45, 255,  57, 228, 233],</span></span><br><span class="line"><span class="string">         [100,  92,   0,   6, 242, 114,  94,   0,  88,  89],</span></span><br><span class="line"><span class="string">         [153,  98, 147, 206,   0, 255,  76, 125,  92, 237],</span></span><br><span class="line"><span class="string">         [108, 237,  72, 107, 210, 106,  53,  45, 188,   8],</span></span><br><span class="line"><span class="string">         [221,   0,   0, 255,  24,   0,  18, 208,   0, 205],</span></span><br><span class="line"><span class="string">         [144,  50, 255, 255, 245,  21, 255,   0, 255, 162],</span></span><br><span class="line"><span class="string">         [ 16,  76,  85, 180,  48,  31,  81, 237,  17, 132]]],</span></span><br><span class="line"><span class="string">       dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002800.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002800.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.RandomSolarize</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:28:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:28:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:23:36" itemprop="dateModified" datetime="2021-10-27T09:23:36+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002800.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002800.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.9k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsrandomsolarize"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsrandomsolarize"></a> Pytorch.torchvision.transforms.RandomSolarize</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomSolarize</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Solarize the image randomly with a given probability by inverting all pixel values above a threshold. If img is a Tensor, it is expected to be in [..., 1 or 3, H, W] format, where ... means it can have an arbitrary number of leading dimensions. If img is PIL Image, it is expected to be in mode &quot;L&quot; or &quot;RGB&quot;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        threshold (float): all pixels equal or above this value are inverted.</span></span><br><span class="line"><span class="string">        p (float): probability of the image being color inverted. Default value is 0.5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>RandomSolarize</code> 将以概率 <code>p</code> 对图片大于阈值的像素进行反转，即 <code>1.0 - input</code>（浮点数）或 <code>255 - input</code>（<code>torch.uint8</code>）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">a = torch.arange(<span class="number">100</span>, dtype=torch.uint8).view(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],</span></span><br><span class="line"><span class="string">         [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</span></span><br><span class="line"><span class="string">         [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],</span></span><br><span class="line"><span class="string">         [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],</span></span><br><span class="line"><span class="string">         [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],</span></span><br><span class="line"><span class="string">         [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],</span></span><br><span class="line"><span class="string">         [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],</span></span><br><span class="line"><span class="string">         [70, 71, 72, 73, 74, 75, 76, 77, 78, 79],</span></span><br><span class="line"><span class="string">         [80, 81, 82, 83, 84, 85, 86, 87, 88, 89],</span></span><br><span class="line"><span class="string">         [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.RandomSolarize(threshold=<span class="number">50</span>, p=<span class="number">1</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[  0,   1,   2,   3,   4,   5,   6,   7,   8,   9],</span></span><br><span class="line"><span class="string">         [ 10,  11,  12,  13,  14,  15,  16,  17,  18,  19],</span></span><br><span class="line"><span class="string">         [ 20,  21,  22,  23,  24,  25,  26,  27,  28,  29],</span></span><br><span class="line"><span class="string">         [ 30,  31,  32,  33,  34,  35,  36,  37,  38,  39],</span></span><br><span class="line"><span class="string">         [ 40,  41,  42,  43,  44,  45,  46,  47,  48,  49],</span></span><br><span class="line"><span class="string">         [205, 204, 203, 202, 201, 200, 199, 198, 197, 196],</span></span><br><span class="line"><span class="string">         [195, 194, 193, 192, 191, 190, 189, 188, 187, 186],</span></span><br><span class="line"><span class="string">         [185, 184, 183, 182, 181, 180, 179, 178, 177, 176],</span></span><br><span class="line"><span class="string">         [175, 174, 173, 172, 171, 170, 169, 168, 167, 166],</span></span><br><span class="line"><span class="string">         [165, 164, 163, 162, 161, 160, 159, 158, 157, 156]]],</span></span><br><span class="line"><span class="string">       dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002700.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002700.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.RandomPosterize</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:27:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:27:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:22:48" itemprop="dateModified" datetime="2021-10-27T09:22:48+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002700.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002700.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.8k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsrandomposterize"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsrandomposterize"></a> Pytorch.torchvision.transforms.RandomPosterize</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomPosterize</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Posterize the image randomly with a given probability by reducing the number of bits for each color channel. If the image is torch Tensor, it should be of type torch.uint8, and it is expected to have [..., 1 or 3, H, W] shape, where ... means an arbitrary number of leading dimensions. If img is PIL Image, it is expected to be in mode &quot;L&quot; or &quot;RGB&quot;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        bits (int): number of bits to keep for each channel (0-8)</span></span><br><span class="line"><span class="string">        p (float): probability of the image being color inverted. Default value is 0.5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>RandomPosterize</code> 将以概率 <code>p</code> 减少每个颜色通道的位数（去除低位，保留高位）。</p><p>参数：</p><ul><li><code>bits</code>：对于每个通道需要保留的高位位数。</li><li><code>p</code>：进行转换的概率。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">a = torch.arange(<span class="number">100</span>, dtype=torch.uint8).view(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],</span></span><br><span class="line"><span class="string">         [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</span></span><br><span class="line"><span class="string">         [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],</span></span><br><span class="line"><span class="string">         [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],</span></span><br><span class="line"><span class="string">         [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],</span></span><br><span class="line"><span class="string">         [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],</span></span><br><span class="line"><span class="string">         [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],</span></span><br><span class="line"><span class="string">         [70, 71, 72, 73, 74, 75, 76, 77, 78, 79],</span></span><br><span class="line"><span class="string">         [80, 81, 82, 83, 84, 85, 86, 87, 88, 89],</span></span><br><span class="line"><span class="string">         [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.RandomPosterize(bits=<span class="number">6</span>, p=<span class="number">1</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0,  0,  0,  0,  4,  4,  4,  4,  8,  8],</span></span><br><span class="line"><span class="string">         [ 8,  8, 12, 12, 12, 12, 16, 16, 16, 16],</span></span><br><span class="line"><span class="string">         [20, 20, 20, 20, 24, 24, 24, 24, 28, 28],</span></span><br><span class="line"><span class="string">         [28, 28, 32, 32, 32, 32, 36, 36, 36, 36],</span></span><br><span class="line"><span class="string">         [40, 40, 40, 40, 44, 44, 44, 44, 48, 48],</span></span><br><span class="line"><span class="string">         [48, 48, 52, 52, 52, 52, 56, 56, 56, 56],</span></span><br><span class="line"><span class="string">         [60, 60, 60, 60, 64, 64, 64, 64, 68, 68],</span></span><br><span class="line"><span class="string">         [68, 68, 72, 72, 72, 72, 76, 76, 76, 76],</span></span><br><span class="line"><span class="string">         [80, 80, 80, 80, 84, 84, 84, 84, 88, 88],</span></span><br><span class="line"><span class="string">         [88, 88, 92, 92, 92, 92, 96, 96, 96, 96]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002600.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002600.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.RandomInvert</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:26:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:26:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:20:44" itemprop="dateModified" datetime="2021-10-27T09:20:44+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002600.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002600.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.8k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsrandominvert"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsrandominvert"></a> Pytorch.torchvision.transforms.RandomInvert</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomInvert</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Inverts the colors of the given image randomly with a given probability.</span></span><br><span class="line"><span class="string">    If img is a Tensor, it is expected to be in [..., 1 or 3, H, W] format, where ... means it can have an arbitrary number of leading dimensions. If img is PIL Image, it is expected to be in mode &quot;L&quot; or &quot;RGB&quot;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        p (float): probability of the image being color inverted. Default value is 0.5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>RandomInvert</code> 将以概率 <code>p</code> 反转图片，即 <code>1.0 - input</code>（浮点数）或 <code>255 - input</code>（<code>torch.uint8</code>）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">a = torch.arange(<span class="number">100</span>, dtype=torch.uint8).view(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],</span></span><br><span class="line"><span class="string">         [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</span></span><br><span class="line"><span class="string">         [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],</span></span><br><span class="line"><span class="string">         [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],</span></span><br><span class="line"><span class="string">         [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],</span></span><br><span class="line"><span class="string">         [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],</span></span><br><span class="line"><span class="string">         [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],</span></span><br><span class="line"><span class="string">         [70, 71, 72, 73, 74, 75, 76, 77, 78, 79],</span></span><br><span class="line"><span class="string">         [80, 81, 82, 83, 84, 85, 86, 87, 88, 89],</span></span><br><span class="line"><span class="string">         [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.RandomInvert(p=<span class="number">1</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[255, 254, 253, 252, 251, 250, 249, 248, 247, 246],</span></span><br><span class="line"><span class="string">         [245, 244, 243, 242, 241, 240, 239, 238, 237, 236],</span></span><br><span class="line"><span class="string">         [235, 234, 233, 232, 231, 230, 229, 228, 227, 226],</span></span><br><span class="line"><span class="string">         [225, 224, 223, 222, 221, 220, 219, 218, 217, 216],</span></span><br><span class="line"><span class="string">         [215, 214, 213, 212, 211, 210, 209, 208, 207, 206],</span></span><br><span class="line"><span class="string">         [205, 204, 203, 202, 201, 200, 199, 198, 197, 196],</span></span><br><span class="line"><span class="string">         [195, 194, 193, 192, 191, 190, 189, 188, 187, 186],</span></span><br><span class="line"><span class="string">         [185, 184, 183, 182, 181, 180, 179, 178, 177, 176],</span></span><br><span class="line"><span class="string">         [175, 174, 173, 172, 171, 170, 169, 168, 167, 166],</span></span><br><span class="line"><span class="string">         [165, 164, 163, 162, 161, 160, 159, 158, 157, 156]]],</span></span><br><span class="line"><span class="string">       dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002500.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002500.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.RandomPerspective</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:25:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:25:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:22:34" itemprop="dateModified" datetime="2021-10-27T09:22:34+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002500.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002500.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsrandomperspective"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsrandomperspective"></a> Pytorch.torchvision.transforms.RandomPerspective</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomPerspective</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Performs a random perspective transformation of the given image with a given probability.</span></span><br><span class="line"><span class="string">    If the image is torch Tensor, it is expected to have [..., H, W] shape, where ... means an arbitrary number of leading dimensions.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        distortion_scale (float): argument to control the degree of distortion and ranges from 0 to 1. Default is 0.5.</span></span><br><span class="line"><span class="string">        p (float): probability of the image being transformed. Default is 0.5.</span></span><br><span class="line"><span class="string">        interpolation (InterpolationMode): Desired interpolation enum defined by :class:`torchvision.transforms.InterpolationMode`. Default is ``InterpolationMode.BILINEAR``. If input is Tensor, only ``InterpolationMode.NEAREST``, ``InterpolationMode.BILINEAR`` are supported. For backward compatibility integer values (e.g. ``PIL.Image.NEAREST``) are still acceptable.</span></span><br><span class="line"><span class="string">        fill (sequence or number): Pixel fill value for the area outside the transformed image. Default is ``0``. If given a number, the value is used for all bands respectively.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>RandomPerspective</code> 将对图片以给定的概率随机进行透视变换。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">a = torch.arange(<span class="number">48</span>, dtype=torch.uint8).view(<span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0,  1,  2,  3],</span></span><br><span class="line"><span class="string">         [ 4,  5,  6,  7],</span></span><br><span class="line"><span class="string">         [ 8,  9, 10, 11],</span></span><br><span class="line"><span class="string">         [12, 13, 14, 15]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[16, 17, 18, 19],</span></span><br><span class="line"><span class="string">         [20, 21, 22, 23],</span></span><br><span class="line"><span class="string">         [24, 25, 26, 27],</span></span><br><span class="line"><span class="string">         [28, 29, 30, 31]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[32, 33, 34, 35],</span></span><br><span class="line"><span class="string">         [36, 37, 38, 39],</span></span><br><span class="line"><span class="string">         [40, 41, 42, 43],</span></span><br><span class="line"><span class="string">         [44, 45, 46, 47]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.RandomPerspective(distortion_scale=<span class="number">0.5</span>, p=<span class="number">1</span>, fill=<span class="number">255</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[255, 255,   4,   8],</span></span><br><span class="line"><span class="string">         [129,  10,  11,  12],</span></span><br><span class="line"><span class="string">         [ 20,  14,  14,  17],</span></span><br><span class="line"><span class="string">         [131,  77,  44,  28]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[255, 255,  20,  24],</span></span><br><span class="line"><span class="string">         [133,  26,  27,  28],</span></span><br><span class="line"><span class="string">         [ 35,  30,  30,  32],</span></span><br><span class="line"><span class="string">         [135,  85,  56,  42]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[255, 255,  36,  40],</span></span><br><span class="line"><span class="string">         [137,  42,  43,  44],</span></span><br><span class="line"><span class="string">         [ 50,  46,  46,  48],</span></span><br><span class="line"><span class="string">         [139,  94,  68,  56]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002400.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002400.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.GaussianBlur</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:24:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:24:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:17:26" itemprop="dateModified" datetime="2021-10-27T09:17:26+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002400.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002400.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2.2k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsgaussianblur"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsgaussianblur"></a> Pytorch.torchvision.transforms.GaussianBlur</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GaussianBlur</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Blurs image with randomly chosen Gaussian blur.</span></span><br><span class="line"><span class="string">    If the image is torch Tensor, it is expected to have [..., C, H, W] shape, where ... means an arbitrary number of leading dimensions.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        kernel_size (int or sequence): Size of the Gaussian kernel.</span></span><br><span class="line"><span class="string">        sigma (float or tuple of float (min, max)): Standard deviation to be used for creating kernel to perform blurring. If float, sigma is fixed. If it is tuple of float (min, max), sigma is chosen uniformly at random to lie in the given range.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        PIL Image or Tensor: Gaussian blurred version of the input image.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>GaussianBlur</code> 对图片进行高斯模糊。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">torch.set_printoptions(precision=<span class="number">2</span>, sci_mode=<span class="literal">False</span>)</span><br><span class="line">a = torch.arange(<span class="number">100.</span>).view(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9.],</span></span><br><span class="line"><span class="string">         [10., 11., 12., 13., 14., 15., 16., 17., 18., 19.],</span></span><br><span class="line"><span class="string">         [20., 21., 22., 23., 24., 25., 26., 27., 28., 29.],</span></span><br><span class="line"><span class="string">         [30., 31., 32., 33., 34., 35., 36., 37., 38., 39.],</span></span><br><span class="line"><span class="string">         [40., 41., 42., 43., 44., 45., 46., 47., 48., 49.],</span></span><br><span class="line"><span class="string">         [50., 51., 52., 53., 54., 55., 56., 57., 58., 59.],</span></span><br><span class="line"><span class="string">         [60., 61., 62., 63., 64., 65., 66., 67., 68., 69.],</span></span><br><span class="line"><span class="string">         [70., 71., 72., 73., 74., 75., 76., 77., 78., 79.],</span></span><br><span class="line"><span class="string">         [80., 81., 82., 83., 84., 85., 86., 87., 88., 89.],</span></span><br><span class="line"><span class="string">         [90., 91., 92., 93., 94., 95., 96., 97., 98., 99.]]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.GaussianBlur(<span class="number">3</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 6.39,  6.81,  7.81,  8.81,  9.81, 10.81, 11.81, 12.81, 13.81, 14.23],</span></span><br><span class="line"><span class="string">         [10.58, 11.00, 12.00, 13.00, 14.00, 15.00, 16.00, 17.00, 18.00, 18.42],</span></span><br><span class="line"><span class="string">         [20.58, 21.00, 22.00, 23.00, 24.00, 25.00, 26.00, 27.00, 28.00, 28.42],</span></span><br><span class="line"><span class="string">         [30.58, 31.00, 32.00, 33.00, 34.00, 35.00, 36.00, 37.00, 38.00, 38.42],</span></span><br><span class="line"><span class="string">         [40.58, 41.00, 42.00, 43.00, 44.00, 45.00, 46.00, 47.00, 48.00, 48.42],</span></span><br><span class="line"><span class="string">         [50.58, 51.00, 52.00, 53.00, 54.00, 55.00, 56.00, 57.00, 58.00, 58.42],</span></span><br><span class="line"><span class="string">         [60.58, 61.00, 62.00, 63.00, 64.00, 65.00, 66.00, 67.00, 68.00, 68.42],</span></span><br><span class="line"><span class="string">         [70.58, 71.00, 72.00, 73.00, 74.00, 75.00, 76.00, 77.00, 78.00, 78.42],</span></span><br><span class="line"><span class="string">         [80.58, 81.00, 82.00, 83.00, 84.00, 85.00, 86.00, 87.00, 88.00, 88.42],</span></span><br><span class="line"><span class="string">         [84.77, 85.19, 86.19, 87.19, 88.19, 89.19, 90.19, 91.19, 92.19, 92.61]]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002300.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002300.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.RandomErasing</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:23:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:23:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:20:12" itemprop="dateModified" datetime="2021-10-27T09:20:12+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002300.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002300.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2.6k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsrandomerasing"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsrandomerasing"></a> Pytorch.torchvision.transforms.RandomErasing</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomErasing</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Randomly selects a rectangle region in an torch Tensor image and erases its pixels.</span></span><br><span class="line"><span class="string">    This transform does not support PIL Image. &#x27;Random Erasing Data Augmentation&#x27; by Zhong et al. See https://arxiv.org/abs/1708.04896</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">         p: probability that the random erasing operation will be performed.</span></span><br><span class="line"><span class="string">         scale: range of proportion of erased area against input image.</span></span><br><span class="line"><span class="string">         ratio: range of aspect ratio of erased area.</span></span><br><span class="line"><span class="string">         value: erasing value. Default is 0. If a single int, it is used to erase all pixels. If a tuple of length 3, it is used to erase R, G, B channels respectively. If a str of &#x27;random&#x27;, erasing each pixel with random values.</span></span><br><span class="line"><span class="string">         inplace: boolean to make this transform inplace. Default set to False.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        Erased Image.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>Pad</code> 将随机擦除图片中的一块矩形区域。</p><p>参数：</p><ul><li><code>p</code>：遮挡的概率。</li><li><code>scale</code>：遮挡区域的面积，将随机取值于 <code>(scale[0], scale[1])</code>。</li><li><code>ratio</code>：遮挡区域的高宽比，将随机取值于 <code>(ratio[0], ratio[1])</code>。</li><li><code>value</code>：遮挡区域的填充值，若为长度为 <code>3</code> 的<code>sequence</code>，则对 <code>RGB</code> 每个通道用对应值进行填充，若为 <code>int</code>，则对遮挡区域的每个元素进行填充，若为 <code>'random'</code>，则对每个元素进行随机遮挡。</li><li><code>inplace</code>：是否改变原数据。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">torch.set_printoptions(precision=<span class="number">2</span>, sci_mode=<span class="literal">False</span>)</span><br><span class="line">a = torch.arange(<span class="number">100.</span>).view(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9.],</span></span><br><span class="line"><span class="string">         [10., 11., 12., 13., 14., 15., 16., 17., 18., 19.],</span></span><br><span class="line"><span class="string">         [20., 21., 22., 23., 24., 25., 26., 27., 28., 29.],</span></span><br><span class="line"><span class="string">         [30., 31., 32., 33., 34., 35., 36., 37., 38., 39.],</span></span><br><span class="line"><span class="string">         [40., 41., 42., 43., 44., 45., 46., 47., 48., 49.],</span></span><br><span class="line"><span class="string">         [50., 51., 52., 53., 54., 55., 56., 57., 58., 59.],</span></span><br><span class="line"><span class="string">         [60., 61., 62., 63., 64., 65., 66., 67., 68., 69.],</span></span><br><span class="line"><span class="string">         [70., 71., 72., 73., 74., 75., 76., 77., 78., 79.],</span></span><br><span class="line"><span class="string">         [80., 81., 82., 83., 84., 85., 86., 87., 88., 89.],</span></span><br><span class="line"><span class="string">         [90., 91., 92., 93., 94., 95., 96., 97., 98., 99.]]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.RandomErasing(p=<span class="number">0.8</span>, value=<span class="string">&#x27;random&#x27;</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[     0.00,      1.00,      2.00,      3.00,      4.00,      5.00,</span></span><br><span class="line"><span class="string">               6.00,      7.00,      8.00,      9.00],</span></span><br><span class="line"><span class="string">         [    10.00,     11.00,     12.00,     13.00,     14.00,     15.00,</span></span><br><span class="line"><span class="string">              16.00,     17.00,     18.00,     19.00],</span></span><br><span class="line"><span class="string">         [    20.00,     21.00,     22.00,     23.00,     24.00,     25.00,</span></span><br><span class="line"><span class="string">              26.00,     27.00,     28.00,     29.00],</span></span><br><span class="line"><span class="string">         [    30.00,     31.00,     32.00,     33.00,     34.00,     35.00,</span></span><br><span class="line"><span class="string">              36.00,     37.00,     38.00,     39.00],</span></span><br><span class="line"><span class="string">         [    40.00,     41.00,     42.00,     43.00,     44.00,     45.00,</span></span><br><span class="line"><span class="string">              46.00,     47.00,     48.00,     49.00],</span></span><br><span class="line"><span class="string">         [    50.00,     51.00,     52.00,     53.00,     54.00,     55.00,</span></span><br><span class="line"><span class="string">              56.00,     57.00,     58.00,     59.00],</span></span><br><span class="line"><span class="string">         [    60.00,     61.00,     62.00,     63.00,     64.00,     65.00,</span></span><br><span class="line"><span class="string">              66.00,     -0.55,      1.98,     -0.29],</span></span><br><span class="line"><span class="string">         [    70.00,     71.00,     72.00,     73.00,     74.00,     75.00,</span></span><br><span class="line"><span class="string">              76.00,      0.99,     -0.95,     -0.05],</span></span><br><span class="line"><span class="string">         [    80.00,     81.00,     82.00,     83.00,     84.00,     85.00,</span></span><br><span class="line"><span class="string">              86.00,     -2.17,     -0.38,     -0.47],</span></span><br><span class="line"><span class="string">         [    90.00,     91.00,     92.00,     93.00,     94.00,     95.00,</span></span><br><span class="line"><span class="string">              96.00,      1.53,     -1.10,      0.81]]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002200.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002200.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.Lambda</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:22:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:22:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:17:54" itemprop="dateModified" datetime="2021-10-27T09:17:54+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002200.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002200.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.5k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformslambda"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformslambda"></a> Pytorch.torchvision.transforms.Lambda</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lambda</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Apply a user-defined lambda as a transform. This transform does not support torchscript.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        lambd (function): Lambda/function to be used for transform.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>Lambda</code> 为用户自定义 <code>transform</code> 方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">a = torch.arange(<span class="number">100</span>, dtype=torch.uint8).view(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],</span></span><br><span class="line"><span class="string">         [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</span></span><br><span class="line"><span class="string">         [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],</span></span><br><span class="line"><span class="string">         [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],</span></span><br><span class="line"><span class="string">         [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],</span></span><br><span class="line"><span class="string">         [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],</span></span><br><span class="line"><span class="string">         [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],</span></span><br><span class="line"><span class="string">         [70, 71, 72, 73, 74, 75, 76, 77, 78, 79],</span></span><br><span class="line"><span class="string">         [80, 81, 82, 83, 84, 85, 86, 87, 88, 89],</span></span><br><span class="line"><span class="string">         [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.Lambda(<span class="keyword">lambda</span> x: x * <span class="number">2</span> + <span class="number">1</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[  1,   3,   5,   7,   9,  11,  13,  15,  17,  19],  </span></span><br><span class="line"><span class="string">         [ 21,  23,  25,  27,  29,  31,  33,  35,  37,  39],  </span></span><br><span class="line"><span class="string">         [ 41,  43,  45,  47,  49,  51,  53,  55,  57,  59],  </span></span><br><span class="line"><span class="string">         [ 61,  63,  65,  67,  69,  71,  73,  75,  77,  79],  </span></span><br><span class="line"><span class="string">         [ 81,  83,  85,  87,  89,  91,  93,  95,  97,  99],  </span></span><br><span class="line"><span class="string">         [101, 103, 105, 107, 109, 111, 113, 115, 117, 119],  </span></span><br><span class="line"><span class="string">         [121, 123, 125, 127, 129, 131, 133, 135, 137, 139],  </span></span><br><span class="line"><span class="string">         [141, 143, 145, 147, 149, 151, 153, 155, 157, 159],  </span></span><br><span class="line"><span class="string">         [161, 163, 165, 167, 169, 171, 173, 175, 177, 179],  </span></span><br><span class="line"><span class="string">         [181, 183, 185, 187, 189, 191, 193, 195, 197, 199]]],</span></span><br><span class="line"><span class="string">       dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zswldxb.github.io/posts/20211002002100.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="智商为零的小白"><meta itemprop="description" content="生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="智商为零的小白的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/posts/20211002002100.html" class="post-title-link" itemprop="url">Pytorch.torchvision.transforms.RandomGrayscale</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-02 00:21:00" itemprop="dateCreated datePublished" datetime="2021-10-02T00:21:00+08:00">2021-10-02</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-10-27 09:20:26" itemprop="dateModified" datetime="2021-10-27T09:20:26+08:00">2021-10-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Pytorch/" itemprop="url" rel="index"><span itemprop="name">Pytorch</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/posts/20211002002100.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/20211002002100.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.6k 字</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="pytorchtorchvisiontransformsrandomgrayscale"><a class="markdownIt-Anchor" href="#pytorchtorchvisiontransformsrandomgrayscale"></a> Pytorch.torchvision.transforms.RandomGrayscale</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomGrayscale</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Randomly convert image to grayscale with a probability of p (default 0.1).</span></span><br><span class="line"><span class="string">    If the image is torch Tensor, it is expected to have [..., 3, H, W] shape, where ... means an arbitrary number of leading dimensions</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        p (float): probability that image should be converted to grayscale.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        PIL Image or Tensor: Grayscale version of the input image with probability p and unchanged with probability (1-p).</span></span><br><span class="line"><span class="string">        - If input image is 1 channel: grayscale version is 1 channel</span></span><br><span class="line"><span class="string">        - If input image is 3 channel: grayscale version is 3 channel with r == g == b</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>RandomGrayscale</code> 将以概率 <code>p</code> 转换为灰度图，<code>1-p</code> 不转换。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;torch version: <span class="subst">&#123;torch.__version__&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;torchvision version: <span class="subst">&#123;torchvision.__version__&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">torch version: 1.9.0</span></span><br><span class="line"><span class="string">torchvision version: 0.10.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">a = torch.arange(<span class="number">48</span>, dtype=torch.uint8).view(<span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[ 0,  1,  2,  3],</span></span><br><span class="line"><span class="string">         [ 4,  5,  6,  7],</span></span><br><span class="line"><span class="string">         [ 8,  9, 10, 11],</span></span><br><span class="line"><span class="string">         [12, 13, 14, 15]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[16, 17, 18, 19],</span></span><br><span class="line"><span class="string">         [20, 21, 22, 23],</span></span><br><span class="line"><span class="string">         [24, 25, 26, 27],</span></span><br><span class="line"><span class="string">         [28, 29, 30, 31]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[32, 33, 34, 35],</span></span><br><span class="line"><span class="string">         [36, 37, 38, 39],</span></span><br><span class="line"><span class="string">         [40, 41, 42, 43],</span></span><br><span class="line"><span class="string">         [44, 45, 46, 47]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">t = transforms.RandomGrayscale(p=<span class="number">0.5</span>)</span><br><span class="line">print(t(a))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[13, 14, 15, 16],</span></span><br><span class="line"><span class="string">         [17, 18, 19, 20],</span></span><br><span class="line"><span class="string">         [21, 22, 23, 24],</span></span><br><span class="line"><span class="string">         [25, 26, 27, 28]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[13, 14, 15, 16],</span></span><br><span class="line"><span class="string">         [17, 18, 19, 20],</span></span><br><span class="line"><span class="string">         [21, 22, 23, 24],</span></span><br><span class="line"><span class="string">         [25, 26, 27, 28]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[13, 14, 15, 16],</span></span><br><span class="line"><span class="string">         [17, 18, 19, 20],</span></span><br><span class="line"><span class="string">         [21, 22, 23, 24],</span></span><br><span class="line"><span class="string">         [25, 26, 27, 28]]], dtype=torch.uint8)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><nav class="pagination"><a class="extend prev" rel="prev" href="/page/12/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/60/">60</a><a class="extend next" rel="next" href="/page/14/"><i class="fa fa-angle-right" aria-label="下一页"></i></a></nav></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="智商为零的小白" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">智商为零的小白</p><div class="site-description" itemprop="description">生命并不是你活了多少日子。而是你记住了多少日子。你要使你过的每一天。都值得记忆。</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">593</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">32</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">92</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/zswldxb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zswldxb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:1979938740@qq.com" title="E-Mail → mailto:1979938740@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">智商为零的小白</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="站点总字数">2.4m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">35:44 小时</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/katex.min.css"><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'rxJydM3QVoypB9apkSU3e9ML-gzGzoHsz',
      appKey     : 'NqXT8ScfaD1udoMiPk3NQ6MF',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});</script><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1;pointer-events:none"></canvas><script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script type="text/javascript" src="/js/src/fireworks.js"></script></body></html>